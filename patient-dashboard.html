<!DOCTYPE html>
<html lang="en" data-theme="matte">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HealthFlo ‚Äî Patient OS V15 Ultra Modular</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Model Viewer -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="css/patient-dashboard.css">
</head>

<body class="hf-body fade-in-page">

  <!-- HEADER -->
  <header class="hf-header">
    <div class="header-inner">
      <div class="hf-logo">
        <span class="logo-dot"></span>
        HealthFlo OS
      </div>

      <nav class="hf-nav" aria-label="Primary navigation">
        <button class="nav-btn active" data-target="dashboard">Dashboard</button>
        <button class="nav-btn" data-target="health">Health</button>
        <button class="nav-btn" data-target="labs">Labs</button>
        <button class="nav-btn" data-target="services">Services</button>
        <button class="nav-btn" data-target="devices">Devices</button>
        <button class="nav-btn" data-target="family">Family</button>
        <button class="nav-btn" data-target="insurance">Insurance</button>
        <button class="nav-btn" data-target="settings">Settings</button>
      </nav>

      <div class="hf-actions">
        <button id="themeToggle" class="hf-icon" aria-label="Toggle theme">üåì</button>
        <button class="hf-icon" aria-label="Notifications">üîî</button>
        <button class="hf-icon" aria-label="Profile">üë§</button>
      </div>
    </div>
  </header>

  <main class="hf-wrapper" id="dashboard">

    <!-- HERO -->
    <section class="dashboard-hero" id="health">
      <div class="hero-left">
        <p class="eyebrow">Neo Guardian ‚Ä¢ Live safety check</p>
        <h1 class="hero-title">Hi, Dhivakaran üëã</h1>
        <p class="hero-sub">
          Your modular Patient OS keeps everything in one place: live vitals, lab meaning in simple words, quick bookings, insurance, and SOS readiness.
        </p>

        <div class="quick-actions" aria-label="Quick actions">
          <button class="pill solid">Book Appointment</button>
          <button class="pill outline">Order Medicines</button>
          <button class="pill outline">Upload Report</button>
          <button class="pill danger">Start SOS</button>
          <button class="pill ghost">Ask AI</button>
        </div>

        <div class="vitals-grid" aria-label="Live vitals">
          <div class="vital-card" data-v="hr">
            <span class="vital-label">Heart Rate</span>
            <strong id="v_hr" class="vital-value">76</strong>
            <small>bpm</small>
          </div>
          <div class="vital-card" data-v="bp">
            <span class="vital-label">Blood Pressure</span>
            <strong id="v_bp" class="vital-value">118/76</strong>
            <small>mmHg</small>
          </div>
          <div class="vital-card" data-v="spo2">
            <span class="vital-label">SpO‚ÇÇ</span>
            <strong id="v_spo2" class="vital-value">98%</strong>
            <small>oxygen</small>
          </div>
          <div class="vital-card" data-v="temp">
            <span class="vital-label">Body Temp</span>
            <strong id="v_temp" class="vital-value">36.8¬∞C</strong>
            <small>core</small>
          </div>
        </div>

        <div class="ai-summary">
          <h3>Guardian in simple words</h3>
          <p id="ai_summary">All looks steady. Drink water, take a 20-minute walk, and sleep on time.</p>
        </div>
      </div>

      <div class="hero-right">
        <div class="heart-3d-box">
          <model-viewer
            id="heart3d"
            src="https://modelviewer.dev/shared-assets/models/Heart.glb"
            auto-rotate
            camera-controls
            disable-zoom
            exposure="1.1"
            shadow-intensity="1.3"
            class="heart-model"
            aria-label="3D heart visual">
          </model-viewer>
          <div class="floating-hr-box">
            <strong id="hr_float">76</strong>
            <span>bpm</span>
          </div>
        </div>
        <canvas id="ecg_mini" class="ecg-mini" aria-label="Heart rhythm preview"></canvas>
      </div>
    </section>

    <!-- LIVE STACK -->
    <section class="live-stack" id="labs">
      <div class="stack-grid">
        <div class="card block">
          <div class="card-head">
            <h2>Blood status</h2>
            <span class="pill soft" id="blood_signal">Balanced</span>
          </div>
          <div class="stat-grid">
            <div>
              <p>Hemoglobin</p>
              <strong id="hb_value">13.6 g/dL</strong>
              <small id="hb_msg">Within healthy range</small>
            </div>
            <div>
              <p>Hydration</p>
              <strong id="water_value">Good</strong>
              <small id="water_msg">Drink 2.5L today</small>
            </div>
            <div>
              <p>Infection watch</p>
              <strong id="infection_value">Low</strong>
              <small id="infection_msg">No signs seen</small>
            </div>
            <div>
              <p>Anemia watch</p>
              <strong id="anemia_value">Clear</strong>
              <small id="anemia_msg">Iron looks ok</small>
            </div>
          </div>
        </div>

        <div class="card block">
          <div class="card-head">
            <h2>Organ watch</h2>
            <span class="pill soft" id="organ_alert">All clear</span>
          </div>
          <div class="organ-grid compact">
            <div class="organ-card" data-organ="heart">
              <div class="organ-icon">‚ù§Ô∏è</div>
              <h3>Heart</h3>
              <p class="organ-status" id="heart_status">Good</p>
              <small>Cardiac markers steady</small>
            </div>
            <div class="organ-card" data-organ="lungs">
              <div class="organ-icon">ü´Å</div>
              <h3>Lungs</h3>
              <p class="organ-status" id="lung_status">Free</p>
              <small>Spirometry and SpO‚ÇÇ smooth</small>
            </div>
            <div class="organ-card" data-organ="liver">
              <div class="organ-icon">üß¨</div>
              <h3>Liver</h3>
              <p class="organ-status" id="liver_status">Healthy</p>
              <small>LFT normal</small>
            </div>
            <div class="organ-card" data-organ="kidney">
              <div class="organ-icon">ü©∫</div>
              <h3>Kidneys</h3>
              <p class="organ-status" id="kidney_status">Hydrated</p>
              <small>KFT + CUE normal</small>
            </div>
            <div class="organ-card" data-organ="dental">
              <div class="organ-icon">ü¶∑</div>
              <h3>Dental</h3>
              <p class="organ-status" id="dental_status">Bright</p>
              <small>3D CBCT clear</small>
            </div>
            <div class="organ-card" data-organ="brain">
              <div class="organ-icon">üß†</div>
              <h3>Brain</h3>
              <p class="organ-status">Calm</p>
              <small>No stress signals</small>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- LAB INTELLIGENCE -->
    <section class="lab-suite" id="health-tests">
      <div class="section-head">
        <div>
          <p class="eyebrow">Lab & imaging</p>
          <h2 class="section-title">Lab intelligence in plain language</h2>
          <p class="section-sub">CBC, LFT, KFT, CUE, cardiac markers, lung tests, dental scans, and radiology stitched together.</p>
        </div>
        <div class="pill-switch">
          <span>Mode</span>
          <button class="pill solid" data-theme="matte">Matte</button>
          <button class="pill ghost" data-theme="vision">Vision Pro</button>
        </div>
      </div>

      <div class="lab-suite-grid">
        <div class="lab-card">
          <div class="lab-card-head">
            <h3>CBC & Blood</h3>
            <span class="pill soft" id="cbc_signal">Normal</span>
          </div>
          <p class="lab-ai" id="lab_cbc_ai">Blood looks balanced. No infection seen.</p>
          <div class="lab-row"><span>RBC</span><strong id="lab_rbc">4.7</strong></div>
          <div class="lab-row"><span>WBC</span><strong id="lab_wbc">6.2</strong></div>
          <div class="lab-row"><span>Platelets</span><strong id="lab_platelets">2.3</strong></div>
        </div>

        <div class="lab-card">
          <div class="lab-card-head">
            <h3>LFT ‚Äî Liver</h3>
            <span class="pill soft" id="lft_signal">Good</span>
          </div>
          <p class="lab-ai" id="lab_lft_ai">Liver values stay inside normal range.</p>
          <div class="lab-row"><span>SGOT</span><strong id="lab_sgot">26</strong></div>
          <div class="lab-row"><span>SGPT</span><strong id="lab_sgpt">24</strong></div>
          <div class="lab-row"><span>Bilirubin</span><strong id="lab_bilirubin">0.8</strong></div>
        </div>

        <div class="lab-card">
          <div class="lab-card-head">
            <h3>KFT + CUE ‚Äî Kidneys</h3>
            <span class="pill soft" id="kft_signal">Hydrated</span>
          </div>
          <p class="lab-ai" id="lab_kft_ai">Kidney filters are working well. Keep water handy.</p>
          <div class="lab-row"><span>Creatinine</span><strong id="lab_creatinine">0.9</strong></div>
          <div class="lab-row"><span>Urea</span><strong id="lab_urea">22</strong></div>
          <div class="lab-row"><span>Sodium</span><strong id="lab_sodium">140</strong></div>
        </div>

        <div class="lab-card">
          <div class="lab-card-head">
            <h3>Cardiac markers</h3>
            <span class="pill soft" id="cardiac_signal">Calm</span>
          </div>
          <p class="lab-ai" id="lab_cardiac_ai">Heart stress markers are low and steady.</p>
          <div class="lab-row"><span>Troponin</span><strong id="lab_troponin">Normal</strong></div>
          <div class="lab-row"><span>CRP</span><strong id="lab_crp">Low</strong></div>
          <div class="lab-row"><span>BNP</span><strong id="lab_bnp">Normal</strong></div>
        </div>

        <div class="lab-card">
          <div class="lab-card-head">
            <h3>Lung health</h3>
            <span class="pill soft" id="lung_signal">Free</span>
          </div>
          <p class="lab-ai" id="lab_lung_ai">Breathing looks smooth. SpO‚ÇÇ steady.</p>
          <div class="lab-row"><span>Spirometry</span><strong id="lab_spirometry">Normal</strong></div>
          <div class="lab-row"><span>SpO‚ÇÇ Trend</span><strong id="lab_spo2">98%</strong></div>
          <div class="lab-row"><span>Resp Rate</span><strong id="lab_resp">16</strong></div>
        </div>

        <div class="lab-card">
          <div class="lab-card-head">
            <h3>Dental</h3>
            <span class="pill soft" id="dental_signal">Bright</span>
          </div>
          <p class="lab-ai" id="lab_dental_ai">3D CBCT shows gums and teeth are clear.</p>
          <div class="lab-row"><span>CBCT</span><strong id="lab_cbct">Clean</strong></div>
          <div class="lab-row"><span>Cavities</span><strong id="lab_cavity">None</strong></div>
          <div class="lab-row"><span>Gums</span><strong id="lab_gums">Healthy</strong></div>
        </div>

        <div class="lab-card wide">
          <div class="lab-card-head">
            <h3>Radiology board</h3>
            <span class="pill soft" id="radio_signal">Ready</span>
          </div>
          <p class="lab-ai">USG abdomen, pelvis, mammogram, soft tissue, MRI/CT head, neck, spine all tracked in one place.</p>
          <div class="radiology-grid">
            <span>USG Abdomen</span>
            <span>USG Pelvis</span>
            <span>Mammogram</span>
            <span>MRI Brain</span>
            <span>CT Head</span>
            <span>Spine MRI/CT</span>
            <span>3D CBCT</span>
            <span>Soft tissue scan</span>
          </div>
          <button class="pill solid small">Upload latest scan</button>
        </div>
      </div>
    </section>

    <!-- SERVICES -->
    <section class="services" id="services">
      <div class="section-head">
        <div>
          <p class="eyebrow">Care modules</p>
          <h2 class="section-title">Bookings and services</h2>
          <p class="section-sub">Hospitals, clinics, labs, pharmacy, insurance, and finance from one screen.</p>
        </div>
        <div class="chip-row">
          <span class="chip">Hospital check-in</span>
          <span class="chip">Clinic visit</span>
          <span class="chip">Lab slot</span>
          <span class="chip">Pharmacy</span>
          <span class="chip">Insurance</span>
        </div>
      </div>

      <div class="service-grid">
        <div class="service-card">
          <div>
            <p class="eyebrow">Hospitals & clinics</p>
            <h3>Book & track visits</h3>
            <p class="muted">Select hospital, clinic, or lab. Use your QR or ID for instant registration.</p>
            <div class="inline-row">
              <button class="pill solid">Find Slot</button>
              <button class="pill ghost">Show QR</button>
            </div>
          </div>
          <div class="badge">Live tracking</div>
        </div>

        <div class="service-card">
          <div>
            <p class="eyebrow">Pharmacy</p>
            <h3>Order medicines</h3>
            <p class="muted">Refill reminders, interaction safety, and doorstep delivery.</p>
            <div class="inline-row">
              <button class="pill solid">Order Now</button>
              <button class="pill ghost">See Prescriptions</button>
            </div>
          </div>
          <div class="badge">Safe dose</div>
        </div>

        <div class="service-card">
          <div>
            <p class="eyebrow">Lab & imaging</p>
            <h3>Book investigations</h3>
            <p class="muted">CBC, LFT, KFT, radiology scans with home pickup and live report sync.</p>
            <div class="inline-row">
              <button class="pill solid">Book Test</button>
              <button class="pill ghost">Track Samples</button>
            </div>
          </div>
          <div class="badge">Home pickup</div>
        </div>

        <div class="service-card" id="insurance">
          <div>
            <p class="eyebrow">Insurance & claims</p>
            <h3>See policy & claims</h3>
            <p class="muted">Cashless status, TPA details, room rent guard, and pending approvals.</p>
            <div class="inline-row">
              <button class="pill solid">View Policy</button>
              <button class="pill ghost">Check Claim</button>
            </div>
          </div>
          <div class="badge">Cashless ready</div>
        </div>

        <div class="service-card">
          <div>
            <p class="eyebrow">Finance</p>
            <h3>Health loans</h3>
            <p class="muted">Instant or easy EMI from HealthFlo partners with clear terms.</p>
            <div class="inline-row">
              <button class="pill solid">Check offers</button>
              <button class="pill ghost">CIBIL view</button>
            </div>
          </div>
          <div class="badge">Pre-approved</div>
        </div>
      </div>
    </section>

    <!-- PROFILE & WALLET -->
    <section class="profile-section" id="profile">
      <div class="profile-card">
        <div class="profile-avatar-wrap">
          <img src="https://i.pravatar.cc/150" class="profile-avatar" alt="Profile avatar">
        </div>
        <div class="profile-info-main">
          <h2>Profile & wallet (separate page)</h2>
          <p class="muted">Personal details, blood group, allergies, known conditions, insurance, TPA, and bank info with CIBIL tracking.</p>
          <div class="profile-grid">
            <div class="p-tile">
              <h5>Personal</h5>
              <p>Age 29 ‚Ä¢ Male ‚Ä¢ India</p>
            </div>
            <div class="p-tile">
              <h5>Medical</h5>
              <p>Blood group O+ ‚Ä¢ No allergies noted</p>
            </div>
            <div class="p-tile">
              <h5>Insurance</h5>
              <p>Select any Indian insurer + TPA</p>
            </div>
            <div class="p-tile">
              <h5>Finance</h5>
              <p>CIBIL 742 ‚Ä¢ Bank linked</p>
            </div>
          </div>
          <div class="inline-row">
            <button class="pill solid">Open profile page</button>
            <button class="pill ghost">Manage insurance</button>
          </div>
        </div>
      </div>
    </section>

    <!-- DEVICES & FAMILY -->
    <section class="device-family" id="devices">
      <div class="device-grid">
        <div class="device-card">
          <div class="card-head">
            <h3>Connect devices</h3>
            <span class="pill soft">Wi‚ÄëFi / BLE</span>
          </div>
          <p class="muted">Pair wearables, BP monitors, glucometers, oximeters, and more to sync vitals live.</p>
          <div class="device-list" id="device_list">
            <div class="device-item">Apple Watch ‚Ä¢ Connected</div>
            <div class="device-item">BP Monitor ‚Ä¢ Ready</div>
            <div class="device-item">Oximeter ‚Ä¢ Connected</div>
          </div>
          <div class="inline-row">
            <button class="pill solid" id="pairDevice">Pair new</button>
            <button class="pill ghost">Manage devices</button>
          </div>
        </div>

        <div class="device-card" id="family">
          <div class="card-head">
            <h3>Family live view</h3>
            <span class="pill soft">Shared</span>
          </div>
          <p class="muted">Parents, spouse, kids, or caregivers can watch vitals and alerts in real time.</p>
          <div class="family-list">
            <div class="family-item">
              <div>
                <strong>Mother</strong>
                <p class="muted">Vitals mirroring on</p>
              </div>
              <span class="pill soft">Notify</span>
            </div>
            <div class="family-item">
              <div>
                <strong>Father</strong>
                <p class="muted">Alerts only</p>
              </div>
              <span class="pill soft">Notify</span>
            </div>
            <div class="family-item">
              <div>
                <strong>Spouse</strong>
                <p class="muted">Full view</p>
              </div>
              <span class="pill soft">Notify</span>
            </div>
          </div>
          <button class="pill solid">Share live view</button>
        </div>
      </div>
    </section>

    <!-- EMERGENCY & SETTINGS -->
    <section class="emergency-settings" id="emergency">
      <div class="emergency-box">
        <div>
          <h3>Ambulance & SOS</h3>
          <p class="muted">Manual or auto trigger. Sends live location to nearby hospitals and family.</p>
          <div class="inline-row">
            <button id="triggerEmergency" class="pill danger">Trigger now</button>
            <button class="pill ghost" id="autoToggle">Auto trigger: ON</button>
          </div>
          <p class="emg-status" id="emg_status_msg">System ready. Location locked.</p>
        </div>
        <div class="emg-orb">
          <div class="orb-core"></div>
          <div class="orb-ring"></div>
          <div class="orb-wave"></div>
        </div>
      </div>

      <div class="settings-card" id="settings">
        <div class="card-head">
          <h3>Settings & security</h3>
          <span class="pill soft">Control</span>
        </div>
        <div class="settings-grid">
          <div>
            <p>Account</p>
            <small>Login, logout, change phone, delete account</small>
          </div>
          <div>
            <p>Payments</p>
            <small>Update UPI/bank for bills</small>
          </div>
          <div>
            <p>QR code</p>
            <small>For instant registration</small>
          </div>
          <div>
            <p>Location</p>
            <small>Share live during SOS</small>
          </div>
          <div>
            <p>Theme</p>
            <small>Matte or Vision Pro</small>
          </div>
          <div>
            <p>Devices</p>
            <small>Wi‚ÄëFi / Bluetooth pairing</small>
          </div>
        </div>
        <button class="pill solid">Open settings page</button>
      </div>
    </section>

    <!-- COPILOT -->
    <div class="copilot-widget" id="copilot">
      <div class="copilot-header">
        <h3>AI Copilot</h3>
        <button class="copilot-close">√ó</button>
      </div>
      <div class="copilot-body" id="copilotChat">
        <div class="msg-ai">Hello! I‚Äôm Guardian AI. Ask me about reports, insurance, or bookings.</div>
      </div>
      <div class="copilot-input-wrap">
        <input type="text" id="copilotInput" placeholder="Ask anything‚Ä¶">
        <button id="copilotSend">‚û§</button>
      </div>
    </div>
    <button class="copilot-launcher" id="openCopilot">ü§ñ</button>

    <!-- BODY MAP -->
    <section class="bodymap-section" id="bodymap">
      <div class="section-head">
        <div>
          <p class="eyebrow">3D Body</p>
          <h2 class="section-title">Human body ‚Äî quick view</h2>
          <p class="section-sub">Tap any area to explore organ systems and alerts.</p>
        </div>
      </div>
      <div class="bodymap-container">
        <model-viewer
          id="bodyModel"
          src="https://modelviewer.dev/shared-assets/models/Astronaut.glb"
          camera-controls
          auto-rotate
          shadow-intensity="1.4"
          exposure="1.2">
        </model-viewer>
      </div>
    </section>

    <!-- REPORT VAULT -->
    <section class="report-vault" id="reports">
      <h2 class="section-title">Report vault</h2>
      <p class="section-sub">All your documents in one safe space with quick view.</p>
      <div class="report-grid">
        <div class="report-card" data-report="cbc_report">
          <div class="report-icon">üìÑ</div>
          <h3>CBC Report</h3>
          <p class="muted">Uploaded: Feb 4</p>
          <button class="pill ghost report-open-btn" data-target="cbc_report_modal">View</button>
        </div>
        <div class="report-card" data-report="lft_report">
          <div class="report-icon">üìÑ</div>
          <h3>LFT Report</h3>
          <p class="muted">Uploaded: Feb 4</p>
          <button class="pill ghost report-open-btn" data-target="lft_report_modal">View</button>
        </div>
        <div class="report-card" data-report="kft_report">
          <div class="report-icon">üìÑ</div>
          <h3>KFT Report</h3>
          <p class="muted">Uploaded: Feb 4</p>
          <button class="pill ghost report-open-btn" data-target="kft_report_modal">View</button>
        </div>
        <div class="report-card" data-report="lipid_profile">
          <div class="report-icon">üìÑ</div>
          <h3>Lipid Profile</h3>
          <p class="muted">Uploaded: Feb 6</p>
          <button class="pill ghost report-open-btn" data-target="lipid_report_modal">View</button>
        </div>
      </div>
    </section>

    <!-- MODALS -->
    <div id="reportModal" class="modal-overlay hidden" role="dialog" aria-modal="true">
      <div class="modal-box">
        <button class="modal-close">√ó</button>
        <h2 id="modalTitle">Report</h2>
        <p id="modalDate">Date: --</p>
        <div class="modal-content">
          <img id="modalImage" src="" alt="Report Preview">
        </div>
        <button class="pill solid" id="downloadReport">Download</button>
      </div>
    </div>

    <div id="organModal" class="modal-overlay hidden" role="dialog" aria-modal="true">
      <div class="modal-box organ-modal-box">
        <button class="modal-close">√ó</button>
        <h2 id="organTitle">Organ details</h2>
        <div class="organ-modal-layout">
          <div class="organ-3d-wrap">
            <model-viewer
              id="organModel3D"
              src="https://modelviewer.dev/shared-assets/models/Heart.glb"
              auto-rotate
              camera-controls
              disable-zoom>
            </model-viewer>
          </div>
          <div class="organ-stats">
            <div class="stat-row">
              <span>Status</span>
              <strong id="organStatus">--</strong>
            </div>
            <div class="stat-row">
              <span>AI note</span>
              <strong id="organAI">--</strong>
            </div>
            <div class="stat-row">
              <span>Risk</span>
              <strong id="organRisk">--</strong>
            </div>
            <h3 class="chart-title">Vital trend</h3>
            <canvas id="organTrendChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- NEO DOCK -->
    <nav class="neo-dock">
      <button class="dock-btn active" data-target="dashboard">üè†</button>
      <button class="dock-btn" data-target="health">üíì</button>
      <button class="dock-btn" data-target="labs">üß™</button>
      <button class="dock-btn" data-target="services">üìÖ</button>
      <button class="dock-btn" data-target="devices">üì°</button>
      <button class="dock-btn" data-target="reports">üìÑ</button>
      <button class="dock-btn" id="dockCopilot">ü§ñ</button>
    </nav>

    <footer class="hf-footer">
      <p>¬© 2025 HealthFlo ‚Äî Neo Guardian OS</p>
      <p class="muted small">AI-first health operating system for patients & families</p>
    </footer>

  </main>

  <script src="js/patient-os.js"></script>
</body>
</html>
