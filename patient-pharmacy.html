<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HealthFlo â€” Hospital Pharmacies & Medicines</title>
  <meta name="description" content="Order authentic medicines from nearby hospital pharmacies. Compare prices, search substitutes, and track live delivery." />
  <meta name="theme-color" content="#0f172a" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/patient-pharmacy.css" />
</head>
<body class="hf-body pharm-shell fade-in-page">
  <!-- ===== Header ===== -->
  <header class="hf-header" role="banner">
    <div class="wrap header-inner">
      <div class="hf-logo" aria-label="HealthFlo OS">
        <span class="logo-dot" aria-hidden="true"></span>
        <div>
          <div class="logo-title">HealthFlo OS</div>
          <div class="logo-sub">Pharmacy & medicines</div>
        </div>
      </div>

      <nav class="hf-nav" aria-label="Primary navigation">
        <a class="nav-btn" href="patient-dashboard.html">Dashboard</a>
        <a class="nav-btn" href="patient-health.html">Health</a>
        <a class="nav-btn" href="patient-organs.html">Organs</a>
        <a class="nav-btn" href="patient-profile.html">Profile</a>
        <a class="nav-btn" href="patient-hospitals.html">Hospitals</a>
        <a class="nav-btn active" href="patient-pharmacy.html">Pharmacy</a>
        <a class="nav-btn" href="patient-labs.html">Labs</a>
        <a class="nav-btn" href="patient-devices.html">Devices</a>
        <a class="nav-btn" href="patient-family.html">Family</a>
        <a class="nav-btn" href="patient-insurance.html">Insurance</a>
        <a class="nav-btn" href="patient-settings.html">Settings</a>
      </nav>

      <div class="hf-actions">
        <button id="themeToggle" class="hf-icon ripple pressable" type="button" title="Toggle theme" aria-pressed="false">ğŸŒ“</button>
        <button class="hf-icon ripple pressable" type="button" aria-label="Notifications">ğŸ””</button>
        <a class="pill ghost ripple pressable" href="patient-health.html">Return to Health</a>
      </div>
    </div>
  </header>

  <!-- ===== Hero ===== -->
  <section class="hero" aria-labelledby="heroTitle">
    <div class="wrap hero-inner">
      <div class="hero-copy">
        <p class="eyebrow">Pharmacy OS â€¢ Dual dashboards</p>
        <h1 id="heroTitle">Order hospital-grade meds with live tracking</h1>
        <p class="sub">Built to mirror your Health board and Labs page â€” HealthFlo pharmacies buffer every order, map substitutes, and sync back to Health.</p>
        <div class="hero-pills">
          <span class="pill soft">Interaction & allergy checks</span>
          <span class="pill soft">HealthFlo buffer pharmacy</span>
          <span class="pill soft">Live courier radar</span>
          <span class="pill soft">Therapeutic filters</span>
        </div>
        <div class="hero-actions" aria-label="Quick pharmacy actions">
          <button class="pill solid" id="ctaOrder">Order now</button>
          <a class="pill outline" href="patient-health.html">Map to Health</a>
          <button class="pill ghost" id="ctaLocate">Use my location</button>
          <button class="pill ghost" id="ctaWhatsApp">WhatsApp concierge</button>
        </div>
        <div class="doctor-voice">
          <div>
            <p class="eyebrow">Doctor voice</p>
            <p class="muted">â€œWeâ€™re ranking pharmacies like a clinician â€” cold-chain, Rx validity, buffer by HealthFlo, and emergency swap options.â€</p>
          </div>
          <div class="doctor-checks" aria-label="Safety checklist">
            <span class="chip">HealthFlo buffer</span>
            <span class="chip">Rx validation</span>
            <span class="chip">Cold chain</span>
            <span class="chip">HIPAA safe</span>
          </div>
        </div>
      </div>
      <div class="hero-right">
        <div class="glass-stack">
          <div class="hero-kpis" aria-label="Key metrics">
            <div class="kpi"><strong id="kMeds">â€”</strong><span>Meds aligned to Health</span></div>
            <div class="kpi"><strong id="kPharm">â€”</strong><span>Pharmacies</span></div>
            <div class="kpi"><strong id="kBuffer">HealthFlo</strong><span>Buffer routes</span></div>
            <div class="kpi pulse"><strong id="kLive">â€”</strong><span>Live deliveries</span></div>
          </div>
          <div class="concierge-card" role="presentation">
            <div>
              <p class="eyebrow">Concierge view</p>
              <h3>Pharmacy flow that behaves like the dashboard</h3>
              <p class="muted">Auto-maps prescriptions, substitutes, and hospital pharmacies with the same glass/blue tone as your Labs cockpit.</p>
            </div>
            <div class="inline-flags">
              <span class="pill soft">AI sort</span>
              <span class="pill soft">Substitutes</span>
              <span class="pill soft">Rx & OTC</span>
            </div>
            <div class="doctor-inline">
              <div>
                <p class="eyebrow">Health board</p>
                <p class="muted">Sends orders + refills back into patient-health.html and reminders.</p>
              </div>
              <button class="btn btn-primary ripple pressable" type="button" id="syncHealth">Sync to Health</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Dashboards ===== -->
  <section class="wrap dual-grid" aria-label="Dual pharmacy dashboards">
    <article class="bento-card prime" id="dashboardMeds">
      <div class="card-top">
        <div>
          <p class="eyebrow">Dashboard 1</p>
          <h3>Medicine discovery aligned to your health data</h3>
          <p class="muted">Search by drug, brand, therapeutic use, price band, discounts, and load meds from nearby pharmacies automatically. Limited to 3 rows for focus.</p>
        </div>
        <div class="pill soft" id="healthContext">Syncing with Health data</div>
      </div>
      <div class="filters">
        <label class="field"><span>Search</span><input id="searchMeds" type="search" placeholder="Drug, brand, condition" /></label>
        <label class="field"><span>Therapeutic use</span><select id="therapeuticFilter"><option value="">All</option><option>Antibiotic</option><option>Pain Relief</option><option>Diabetes</option><option>Heart</option><option>Allergy</option></select></label>
        <label class="field"><span>Price</span><input id="priceRange" type="range" min="0" max="800" step="50" value="800" /><small id="priceValue">Up to â‚¹800</small></label>
        <label class="field"><span>Discount</span><select id="discountFilter"><option value="">Any</option><option value="10">10%+</option><option value="20">20%+</option><option value="30">30%+</option></select></label>
        <label class="switch"><input id="autoLoadFromStores" type="checkbox" checked /> <span>Auto-load medicines from pharmacy dashboard</span></label>
      </div>
      <div class="grid meds-grid" id="medsGrid" aria-live="polite"></div>
      <div class="mini-note">Showing a curated 3-row feed. Pulls meds from pharmacies below and your saved health/medical data.</div>
    </article>

    <article class="bento-card" id="dashboardStores">
      <div class="card-top">
        <div>
          <p class="eyebrow">Dashboard 2</p>
          <h3>Hospital pharmacies with live locations</h3>
          <p class="muted">Search pharmacies by location, delivery speed, HealthFlo buffer routing, and live courier pings.</p>
        </div>
        <div class="row-actions">
          <button class="pill outline" id="sortNearest">Nearest first</button>
          <button class="pill ghost" id="filterDelivery">Delivery only</button>
        </div>
      </div>
      <div class="filters">
        <label class="field"><span>Location</span><input id="searchLocation" type="search" placeholder="City, area, or pin" /></label>
        <label class="field"><span>Fulfilment</span><select id="fulfilmentFilter"><option value="">Any</option><option value="delivery">Delivery</option><option value="pickup">Pick-up</option></select></label>
        <label class="switch"><input id="includeBuffer" type="checkbox" checked /> <span>Include HealthFlo buffer pharmacy</span></label>
      </div>
      <div class="grid store-grid" id="storeGrid" aria-live="polite"></div>
      <div class="live-tracker" aria-live="polite">
        <div>
          <p class="eyebrow">Live delivery</p>
          <h4 id="liveStatus">No active delivery</h4>
          <p class="muted" id="liveEta">ETA will appear when an order is active.</p>
          <div class="track-bar"><span id="trackProgress"></span></div>
        </div>
        <button class="pill ghost" id="openTracker">View timeline</button>
      </div>
    </article>
  </section>

  <!-- ===== Substitutes & safety ===== -->
  <section class="wrap bento-grid" aria-label="Safety and substitutes">
    <article class="bento-tile">
      <div class="tile-head"><p class="eyebrow">Substitutes</p><span class="pill ghost">Same composition</span></div>
      <h4>Show similar meds</h4>
      <p class="muted">Automatically surfaces 1:1 substitutes with price + availability from the same pharmacies.</p>
      <div class="micro-metrics"><div><strong id="statSubs">â€”</strong><small>substitutes found</small></div><div><strong>Rx/OTC</strong><small>clear labeling</small></div></div>
    </article>
    <article class="bento-tile">
      <div class="tile-head"><p class="eyebrow">Safety</p><span class="pill ghost">Interaction check</span></div>
      <h4>Allergy & interaction guardrails</h4>
      <p class="muted">Runs the same checks as patient-health.html with pill conflicts, pregnancy flags, and dose limits.</p>
      <div class="micro-metrics"><div><strong>3</strong><small>live checks</small></div><div><strong>24x7</strong><small>pharmacist review</small></div></div>
    </article>
    <article class="bento-tile span2">
      <div class="tile-head"><p class="eyebrow">Orders</p><span class="pill ghost">Live tracker</span></div>
      <h4>Order, pay, and track like a food app</h4>
      <p class="muted">Full stack ordering with WhatsApp, live courier position, partner name, and arrival countdown.</p>
      <div class="micro-metrics"><div><strong id="statOrders">â€”</strong><small>orders placed</small></div><div><strong id="statBuffer">100%</strong><small>through HealthFlo buffer</small></div><div><strong>UPI/COD</strong><small>supported</small></div></div>
    </article>
  </section>

  <!-- ===== Store inventory modal (dashboard 2 click) ===== -->
  <div id="storeModal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="storeTitle">
    <div class="sheet">
      <header class="sheet-head">
        <div>
          <p class="eyebrow">Hospital / HealthFlo</p>
          <h3 id="storeTitle" class="title">Pharmacy inventory</h3>
          <p id="storeMeta" class="muted small">â€”</p>
        </div>
        <div class="row-actions">
          <label class="field mini"><span>Category</span><select id="storeCategory"></select></label>
          <label class="field mini"><span>Search</span><input id="storeSearch" type="search" placeholder="Drug, brand" /></label>
          <button id="storeClose" class="pill ghost" type="button" aria-label="Close">Close</button>
        </div>
      </header>

      <div class="grid meds-grid capped" id="storeMedGrid" aria-live="polite"></div>
    </div>
  </div>

  <!-- ===== Medicine detail overlay ===== -->
  <div id="medDetail" class="modal" aria-hidden="true" role="dialog" aria-labelledby="medTitle">
    <div class="sheet">
      <header class="sheet-head">
        <div>
          <p class="eyebrow" id="medCategory">Therapeutic</p>
          <h3 id="medTitle" class="title">Medicine</h3>
          <p id="medGeneric" class="muted small">â€”</p>
        </div>
        <div class="row-actions">
          <button class="pill ghost" id="btnMedClose" type="button">Close</button>
        </div>
      </header>

      <div class="med-detail-body">
        <div class="detail-pricing">
          <div><span class="muted">Best price</span><strong id="medPrice">â‚¹0</strong></div>
          <div><span class="muted">MRP</span><strong id="medMrp">â‚¹0</strong></div>
          <div><span class="muted">Discount</span><strong id="medDiscount">0%</strong></div>
          <div><span class="muted">Rx/OTC</span><strong id="medRx">â€”</strong></div>
        </div>
        <p id="medNotes" class="muted"></p>
        <div class="detail-tags" id="medTags"></div>
        <div class="detail-substitutes">
          <h4>Similar substitutes</h4>
          <div id="subGrid" class="grid meds-grid mini"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Dock ===== -->
  <nav class="neo-dock">
    <a class="dock-btn" href="patient-dashboard.html" aria-label="Dashboard">ğŸ </a>
    <a class="dock-btn" href="patient-health.html" aria-label="Health">ğŸ’“</a>
    <a class="dock-btn" href="patient-organs.html" aria-label="Organs">ğŸ«€</a>
    <a class="dock-btn" href="patient-profile.html" aria-label="Profile">ğŸ‘¤</a>
    <a class="dock-btn" href="patient-labs.html" aria-label="Labs">ğŸ§ª</a>
    <a class="dock-btn active" href="patient-pharmacy.html" aria-label="Pharmacy">ğŸ’Š</a>
    <a class="dock-btn" href="patient-hospitals.html" aria-label="Hospitals">ğŸ¥</a>
    <a class="dock-btn" href="patient-devices.html" aria-label="Devices">ğŸ“¡</a>
    <a class="dock-btn" href="patient-family.html" aria-label="Family">ğŸ‘ª</a>
    <a class="dock-btn" href="patient-insurance.html" aria-label="Insurance">ğŸ’³</a>
    <a class="dock-btn" href="patient-settings.html" aria-label="Settings">âš™ï¸</a>
  </nav>

  <footer>
    <p>Â© 2025 HealthFlo â€” Pharmacy</p>
  </footer>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>
  <script src="js/patient-pharmacy.js" defer></script>
</body>
</html>
