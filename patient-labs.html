<!DOCTYPE html>
<html lang="en" data-theme="matte">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Patient Labs & Investigations</title>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/patient-os.css">
  <link rel="stylesheet" href="css/patient-labs.css">

</head>
<body>
  <header class="hf-topbar">
    <div class="container topbar-inner">
      <a class="hf-logo" href="patient-dashboard.html">
        <span class="logo-dot"></span>
        HealthFlo Patient OS
      </a>
      <nav class="hf-nav" aria-label="Primary navigation">
        <a href="patient-dashboard.html">Dashboard</a>
        <a href="patient-health.html">Health</a>
        <a href="patient-organs.html">Organs</a>
        <a href="patient-profile.html">Profile</a>
        <a href="patient-hospitals.html">Hospitals</a>
        <a href="patient-pharmacy.html">Pharmacy</a>
        <a class="active" href="patient-labs.html">Labs</a>
        <a href="patient-devices.html">Devices</a>
        <a href="patient-family.html">Family</a>
        <a href="patient-insurance.html">Insurance</a>
        <a href="patient-settings.html">Settings</a>
      </nav>
      <div class="topbar-actions">
        <button class="icon-btn" id="themeToggle" aria-label="Toggle theme">üåì</button>
        <button class="icon-btn" aria-label="Notifications">üîî</button>
        <button class="icon-btn" aria-label="Profile">üë§</button>
      </div>
    </div>
  </header>

  <main class="container lab-wrap">
    <section class="hero">
      <div class="card">
        <p class="chip">Labs & Radiology</p>
        <h1 class="hero-title">Book India-wide lab visits in two taps</h1>
        <p class="hero-sub">Every city shows 5 curated labs (3 private + 2 hospital) with live offers, instant PDF downloads, and one-click booking.</p>
        <div class="ad-bar">
          <span><strong>Festival boosters:</strong> Color-loaded cards, trust badges, and QR-ready confirmations.</span>
          <div class="download-actions">
            <button class="badge primary" id="bookLandingCta" type="button">Book now</button>
            <button class="badge" id="downloadLandingPdf" type="button">Download sample PDF</button>
          </div>
        </div>
        <div class="metrics">
          <div class="metric"><small class="muted">Visible labs</small><strong id="visibleCount">‚Äî</strong><span class="muted">Based on filters</span></div>
          <div class="metric"><small class="muted">Home visit ready</small><strong id="homeCount">‚Äî</strong><span class="muted">Labs offering home pickup</span></div>
          <div class="metric"><small class="muted">Radiology hubs</small><strong id="radCount">‚Äî</strong><span class="muted">Labs with imaging</span></div>
          <div class="metric"><small class="muted">Avg. blood panel</small><strong id="avgPrice">‚Çπ‚Äî</strong><span class="muted">Based on filtered labs</span></div>
        </div>
      </div>
      <div class="card">
        <h3>Live counters</h3>
        <p class="muted">Track how filters and search change the set. Nearest-first uses your saved or requested location.</p>
        <div class="metrics">
          <div class="metric"><small class="muted">Sort</small><strong id="sortMeta">A‚ÄìZ</strong><span class="muted">Toggles on toolbar</span></div>
          <div class="metric"><small class="muted">Location</small><strong id="locationMeta">Saved</strong><span class="muted">Tap locate to refresh</span></div>
          <div class="metric"><small class="muted">Home fee avg</small><strong id="homeFeeMeta">‚Çπ‚Äî</strong><span class="muted">For labs allowing home visit</span></div>
        </div>
      </div>
    </section>

    <section class="toolbar">
      <label>Search labs or tests
        <input id="searchInput" type="search" placeholder="Search labs, city, test name" />
      </label>
      <label>City
        <select id="cityFilter">
          <option value="">All</option>
          <option>Mumbai</option>
          <option>Delhi</option>
          <option>Bengaluru</option>
          <option>Hyderabad</option>
          <option>Chennai</option>
        </select>
      </label>
      <label>Test type
        <select id="typeFilter">
          <option value="">Any</option>
          <option value="blood">Blood / Pathology</option>
          <option value="radiology">Radiology / Imaging</option>
        </select>
      </label>
      <div class="toggles">
        <label class="pill"><input id="homeToggle" type="checkbox"> Home visit only</label>
        <label class="pill"><input id="nearestToggle" type="checkbox" checked> Nearest first</label>
        <button class="badge" id="locateBtn" type="button" data-ripple>üìç Locate me</button>
      </div>
      <div class="status-line" id="sortStatus">Sorting by distance using saved location.</div>
    </section>

    <div class="promo-banner shine">
      <div>
        <strong>Addictive lab lane</strong>
        <p class="muted">Trending science blurbs sit inside every card. Scroll through neon pills, offers, and instantly jump to booking.</p>
      </div>
      <div class="offers-strip" id="offersStrip"></div>
    </div>

    <section class="assurance">
      <span class="chip">Certification-grade partners</span>
      <span class="chip">Transparent pricing</span>
      <span class="chip">WhatsApp confirmation</span>
      <span class="chip">Flexible rescheduling</span>
    </section>

    <section class="insights">
      <div class="card shine" aria-live="polite">
        <div class="label-row between">
          <div>
            <p class="chip">Health map & reports</p>
            <h3>Track lab reports, sync, or download PDFs</h3>
            <p class="muted">Dummy data is preloaded so you always see movement. Sync from any lab modal or export instant PDFs.</p>
          </div>
          <div class="status-badge neutral" id="dashboardStatus">Demo snapshot</div>
        </div>
        <div class="download-actions padded">
          <button class="badge" id="downloadDashboardPdf" type="button">‚¨áÔ∏è Download PDF</button>
          <button class="badge ghost" id="syncFromLatest" type="button">üîÅ Refresh dummy data</button>
        </div>
        <div class="report-card" id="dashboardReport">
          <p id="dashboardSummary" class="muted">Open a lab, review "Reports & Health Map", then sync to populate this space.</p>
          <div id="dashboardList" class="insight-list"></div>
        </div>
      </div>
      <div class="card pulse" aria-live="polite">
        <p class="chip">City deals & booking shortcuts</p>
        <h3>Ads + offers tuned for quick conversion</h3>
        <p class="muted">Colorful offer cards, health trend captions, and a sticky booking CTA keep the experience addictive.</p>
        <div class="offers-strip" id="secondaryOffers"></div>
      </div>
    </section>

    <section class="card" aria-live="polite">
      <div class="label-row spread-wrap">
        <div>
          <p class="chip">Concierge bundles</p>
          <h3>Pre-built panels for faster ordering</h3>
          <p class="muted">Tap a bundle to auto-select tests inside any lab modal. Designed to avoid decision fatigue.</p>
        </div>
        <div class="actions">
          <button class="badge" type="button" id="openFirstLab" data-ripple>Open first lab</button>
          <button class="badge ghost" type="button" id="showAllLabs" data-ripple>Show all labs</button>
        </div>
      </div>
      <div class="bundle-row" id="bundleRow"></div>
    </section>

    <section>
      <div class="grid skeleton" id="labsSkeleton" aria-hidden="true"></div>
      <div class="grid" id="labsGrid" aria-live="polite"></div>
      <div class="empty-state" id="labsEmpty" hidden>Filters returned no labs. Reset filters or tap "Show all labs".</div>
    </section>
  </main>

  <div class="modal" id="labModal" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <header class="sheet-head">
        <div class="sheet-meta">
          <div class="logo" id="modalLogo">LB</div>
          <div>
            <p class="muted" id="modalLocation">‚Äî</p>
            <h2 id="modalTitle">Lab</h2>
            <div class="label-row">
              <span class="pill" id="modalHome">Home visit</span>
              <span class="pill" id="modalDistance">‚Äî km</span>
              <span class="pill" id="modalCounts">‚Äî</span>
            </div>
          </div>
        </div>
        <div class="actions">
          <a class="badge tiny" id="modalDirections" target="_blank" rel="noopener" data-ripple>Directions</a>
          <a class="badge tiny" id="modalCall" data-ripple>Call</a>
          <a class="badge tiny ghost" id="modalWA" target="_blank" rel="noopener" data-ripple>WhatsApp</a>
          <button class="icon-btn" id="modalClose" aria-label="Close modal" data-ripple>‚úï</button>
        </div>
      </header>
      <nav class="tabs" role="tablist">
        <button data-tab="blood" aria-selected="true">Blood Tests</button>
        <button data-tab="radiology" aria-selected="false">Radiology</button>
        <button data-tab="reports" aria-selected="false">Reports & Health Map</button>
        <button data-tab="book" aria-selected="false">Booking</button>
        <button data-tab="about" aria-selected="false">About</button>
      </nav>
      <div class="panel active" data-panel="blood">
        <div class="modal-toolbar">
          <input id="bloodSearch" type="search" placeholder="Search blood tests" />
          <label class="pill"><input id="bloodHomeToggle" type="checkbox"> Home collection</label>
          <span id="homeFeeText" class="muted">Home fee: ‚Çπ0</span>
          <button class="badge ghost" id="bloodClear" type="button" data-ripple>Clear</button>
          <button class="badge" id="bloodWA" type="button" data-ripple>WhatsApp</button>
        </div>
        <div class="modal-list" id="bloodList"></div>
        <div class="modal-foot">
          <span>Selected: <strong id="bloodCount">0</strong></span>
          <span>Total: <strong id="bloodTotal">‚Çπ0</strong></span>
        </div>
      </div>
      <div class="panel" data-panel="radiology">
        <div class="modal-toolbar">
          <input id="radSearch" type="search" placeholder="Search radiology" />
          <button class="badge ghost" id="radClear" type="button" data-ripple>Clear</button>
          <button class="badge" id="radWA" type="button" data-ripple>WhatsApp</button>
        </div>
        <div class="modal-list" id="radList"></div>
        <div class="modal-foot">
          <span>Selected: <strong id="radCount">0</strong></span>
          <span>Total: <strong id="radTotal">‚Çπ0</strong></span>
        </div>
      </div>
      <div class="panel" data-panel="reports">
        <div class="modal-toolbar">
          <div>
            <strong>Latest lab report preview</strong>
            <p class="muted" id="reportMeta">Live metrics streamed from this lab help plot your dashboard trajectory.</p>
          </div>
          <div class="download-actions">
            <button class="sync-btn" id="syncDashboard" type="button" data-ripple>üõ∞Ô∏è Sync to dashboard</button>
            <button class="badge ghost" id="downloadPdf" type="button" data-ripple>‚¨áÔ∏è Download PDF</button>
          </div>
        </div>
        <div class="reports-grid">
          <div class="report-card">
            <h4>Blood markers</h4>
            <div class="modal-list" id="reportBlood"></div>
          </div>
          <div class="report-card">
            <h4>Imaging & impressions</h4>
            <div class="modal-list" id="reportImaging"></div>
          </div>
        </div>
        <div class="timeline" id="reportTimeline"></div>
      </div>
      <div class="panel" data-panel="book">
        <div class="booking-grid">
          <div>
            <label>Visit mode
              <div>
                <label class="pill"><input type="radio" name="visitMode" value="home" checked> Home visit</label>
                <label class="pill"><input type="radio" name="visitMode" value="lab"> Visit lab</label>
              </div>
            </label>
            <label>Date & time
              <div class="inline-inputs">
                <input id="bookDate" type="date">
                <input id="bookTime" type="time">
              </div>
            </label>
            <label>Name
              <input id="bookName" type="text" placeholder="Your name">
            </label>
            <label>Phone
              <input id="bookPhone" type="tel" placeholder="10-digit mobile">
            </label>
          </div>
          <div>
            <label>City
              <select id="bookCity">
                <option>Mumbai</option>
                <option>Delhi</option>
                <option>Bengaluru</option>
                <option>Hyderabad</option>
                <option>Chennai</option>
              </select>
            </label>
            <details class="profile">
              <summary>Default profile</summary>
              <label>Default name<input id="profileName" type="text"></label>
              <label>Default phone<input id="profilePhone" type="tel"></label>
              <label>Default city<input id="profileCity" type="text"></label>
              <label>Default sort
                <select id="profileSort">
                  <option value="nearest">Nearest</option>
                  <option value="az">A‚ÄìZ</option>
                </select>
              </label>
              <div class="actions">
                <button class="badge" id="saveProfile" type="button" data-ripple>Save profile</button>
                <button class="badge ghost" id="clearProfile" type="button" data-ripple>Clear</button>
                <button class="badge primary" id="useProfile" type="button" data-ripple>Use profile</button>
              </div>
            </details>
            <div class="card tight-pad">
              <p class="muted">Selected tests & total</p>
              <div id="bookSummary">No tests selected yet.</div>
              <strong id="bookTotal">‚Çπ0</strong>
            </div>
            <button class="badge primary" id="bookConfirm" type="button" data-ripple>Confirm & WhatsApp</button>
          </div>
        </div>
      </div>
      <div class="panel" data-panel="about">
        <h3 id="aboutTitle">About</h3>
        <p id="aboutDesc" class="muted"></p>
        <p><strong>Contact:</strong> <span id="aboutContact"></span></p>
      </div>
    </div>
  </div>

  <template id="labCardTpl">
    <div class="card lab-card" data-ripple>
      <img class="lab-img" alt="Lab image">
      <div>
        <h3 class="lab-name"></h3>
        <p class="muted lab-loc"></p>
      </div>
      <div class="label-row badges"></div>
      <div class="investigation-hints"></div>
      <div class="label-row distance-row"></div>
      <div class="actions">
        <button class="tiny badge" data-action="view" type="button">View</button>
        <button class="tiny badge book-now" data-action="book" type="button">Book now</button>
        <a class="tiny badge ghost" data-action="directions" target="_blank" rel="noopener">Directions</a>
        <a class="tiny badge ghost" data-action="call">Call</a>
      </div>
    </div>
  </template>

  <template id="testRowTpl">
    <div class="test-row">
      <label>
        <input type="checkbox">
        <div>
          <span class="test-name"></span>
          <p class="test-why"></p>
        </div>
      </label>
      <div class="test-price-wrap">
        <strong class="test-price"></strong>
        <small class="muted test-range"></small>
      </div>
    </div>
  </template>
  
  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <audio id="clickSound" preload="auto" src="data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCA/////wAAA1cAABF4AAD///8ATGF2ZjU2LjQxLjEwNAAAAAAAAAAAAAAA//uQxAADB6gAhR0AAAiCAAAIhYAQBEdAAAEQxAADL0AAAL0AAAQW5n//sQxAAD//8AAAAAAAAAAAAAAA=="></audio>

  <script src="js/patient-labs.js"></script>

</body>
</html>
